[{"D:\\react\\react-pizza\\src\\index.js":"1","D:\\react\\react-pizza\\src\\App.js":"2","D:\\react\\react-pizza\\src\\components\\index.js":"3","D:\\react\\react-pizza\\src\\pages\\index.js":"4","D:\\react\\react-pizza\\src\\components\\Button.jsx":"5","D:\\react\\react-pizza\\src\\components\\Categories.jsx":"6","D:\\react\\react-pizza\\src\\components\\Header.jsx":"7","D:\\react\\react-pizza\\src\\components\\SortPopup.jsx":"8","D:\\react\\react-pizza\\src\\pages\\HomePage.jsx":"9","D:\\react\\react-pizza\\src\\pages\\Cart.jsx":"10","D:\\react\\react-pizza\\src\\redux\\store.js":"11","D:\\react\\react-pizza\\src\\redux\\reducers\\filters.js":"12","D:\\react\\react-pizza\\src\\redux\\reducers\\pizzas.js":"13","D:\\react\\react-pizza\\src\\redux\\reducers\\index.js":"14","D:\\react\\react-pizza\\src\\redux\\actions\\pizzas.js":"15","D:\\react\\react-pizza\\src\\redux\\actions\\filters.js":"16","D:\\react\\react-pizza\\src\\components\\PizzaElements\\index.jsx":"17","D:\\react\\react-pizza\\src\\components\\PizzaElements\\ElementLoader.jsx":"18","D:\\react\\react-pizza\\src\\redux\\reducers\\cart.js":"19","D:\\react\\react-pizza\\src\\redux\\actions\\cart.js":"20","D:\\react\\react-pizza\\src\\components\\CartItem.jsx":"21"},{"size":442,"mtime":1610489003570,"results":"22","hashOfConfig":"23"},{"size":1376,"mtime":1610553653203,"results":"24","hashOfConfig":"23"},{"size":398,"mtime":1610481078458,"results":"25","hashOfConfig":"23"},{"size":94,"mtime":1609699399561,"results":"26","hashOfConfig":"23"},{"size":348,"mtime":1610394991913,"results":"27","hashOfConfig":"23"},{"size":1087,"mtime":1610379256132,"results":"28","hashOfConfig":"23"},{"size":2860,"mtime":1610485332078,"results":"29","hashOfConfig":"23"},{"size":2315,"mtime":1610390810022,"results":"30","hashOfConfig":"23"},{"size":2591,"mtime":1610484649756,"results":"31","hashOfConfig":"23"},{"size":7546,"mtime":1610553514034,"results":"32","hashOfConfig":"23"},{"size":453,"mtime":1610306133919,"results":"33","hashOfConfig":"23"},{"size":452,"mtime":1610388500643,"results":"34","hashOfConfig":"23"},{"size":440,"mtime":1610364019889,"results":"35","hashOfConfig":"23"},{"size":287,"mtime":1610392071449,"results":"36","hashOfConfig":"23"},{"size":611,"mtime":1610555620493,"results":"37","hashOfConfig":"23"},{"size":201,"mtime":1610295179942,"results":"38","hashOfConfig":"23"},{"size":3387,"mtime":1610400513033,"results":"39","hashOfConfig":"23"},{"size":695,"mtime":1610555701906,"results":"40","hashOfConfig":"23"},{"size":3171,"mtime":1610560316322,"results":"41","hashOfConfig":"23"},{"size":427,"mtime":1610552419487,"results":"42","hashOfConfig":"23"},{"size":4101,"mtime":1610553803823,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"rrisw7",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"D:\\react\\react-pizza\\src\\index.js",[],["90","91"],"D:\\react\\react-pizza\\src\\App.js",[],"D:\\react\\react-pizza\\src\\components\\index.js",[],"D:\\react\\react-pizza\\src\\pages\\index.js",[],"D:\\react\\react-pizza\\src\\components\\Button.jsx",[],"D:\\react\\react-pizza\\src\\components\\Categories.jsx",[],"D:\\react\\react-pizza\\src\\components\\Header.jsx",[],"D:\\react\\react-pizza\\src\\components\\SortPopup.jsx",[],"D:\\react\\react-pizza\\src\\pages\\HomePage.jsx",["92","93","94","95"],"import React from \"react\";\r\nimport {\r\n  Categories,\r\n  PizzaElement,\r\n  SortPopup,\r\n  ElementLoader,\r\n} from \"../components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setCategory, setSortBy } from \"../redux/actions/filters\";\r\nimport { addToCart } from \"../redux/actions/cart\";\r\nimport { fetchPizzas } from \"../redux/actions/pizzas\";\r\n\r\nconst pizzaCategories = [\r\n  \"Мясные\",\r\n  \"Вегетарианская\",\r\n  \"Гриль\",\r\n  \"Острые\",\r\n  \"Закрытые\",\r\n];\r\nconst sortByItems = [\r\n  { name: \"популярности\", type: \"rating\", order: \"asc\" },\r\n  { name: \"цене\", type: \"price\", order: \"desc\" },\r\n  { name: \"названию\", type: \"name\", order: \"asc\" },\r\n];\r\nexport default function HomePage() {\r\n  const dispatch = useDispatch();\r\n  const items = useSelector(({ pizzasReducer }) => pizzasReducer.items);\r\n  const cartItems = useSelector(({ cartReducer }) => cartReducer.items);\r\n  const isLoaded = useSelector(({ pizzasReducer }) => pizzasReducer.isLoaded);\r\n  const { sortBy, category } = useSelector(\r\n    ({ filtersReducer }) => filtersReducer\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    dispatch(fetchPizzas(sortBy, category));\r\n  }, [category, sortBy]);\r\n  const onSelectCategory = React.useCallback((index) => {\r\n    dispatch(setCategory(index));\r\n  }, []);\r\n  const onSelectSortType = React.useCallback((type) => {\r\n    dispatch(setSortBy(type));\r\n  }, []);\r\n  const onAddToCart = React.useCallback((pizzaItem) => {\r\n    dispatch(addToCart(pizzaItem));\r\n    console.log(pizzaItem);\r\n  }, []);\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"content__top\">\r\n        <Categories\r\n          onClickItem={onSelectCategory}\r\n          items={pizzaCategories}\r\n          activeCategory={category}\r\n        />\r\n        <SortPopup\r\n          onClickItem={onSelectSortType}\r\n          items={sortByItems}\r\n          activeSortType={sortBy.type}\r\n        />\r\n      </div>\r\n      <h2 className=\"content__title\">Все пиццы</h2>\r\n      <div className=\"content__items\">\r\n        {isLoaded\r\n          ? items.map((pizzaInfo) => (\r\n              <PizzaElement\r\n                key={pizzaInfo.id}\r\n                additionalInfo={pizzaInfo}\r\n                onAddToCart={onAddToCart}\r\n                addedCounter={\r\n                  cartItems[pizzaInfo.id] &&\r\n                  cartItems[pizzaInfo.id].items.length\r\n                }\r\n              />\r\n            ))\r\n          : Array(10)\r\n              .fill(0)\r\n              .map((_, idx) => <ElementLoader key={idx} />)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","D:\\react\\react-pizza\\src\\pages\\Cart.jsx",[],"D:\\react\\react-pizza\\src\\redux\\store.js",[],"D:\\react\\react-pizza\\src\\redux\\reducers\\filters.js",[],"D:\\react\\react-pizza\\src\\redux\\reducers\\pizzas.js",[],"D:\\react\\react-pizza\\src\\redux\\reducers\\index.js",[],"D:\\react\\react-pizza\\src\\redux\\actions\\pizzas.js",[],"D:\\react\\react-pizza\\src\\redux\\actions\\filters.js",[],"D:\\react\\react-pizza\\src\\components\\PizzaElements\\index.jsx",[],"D:\\react\\react-pizza\\src\\components\\PizzaElements\\ElementLoader.jsx",[],"D:\\react\\react-pizza\\src\\redux\\reducers\\cart.js",["96"],"const initialState = {\r\n  items: {},\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n};\r\nconst getTotalPrice = (objToSum) =>\r\n  +Number(objToSum.reduce((sum, obj) => obj.price + sum, 0)).toFixed(2);\r\nconst cart = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\": {\r\n      const cur = !state.items[action.payload.id]\r\n        ? [action.payload]\r\n        : [...state.items[action.payload.id].items, action.payload];\r\n      const itemsObj = {\r\n        ...state.items,\r\n        [action.payload.id]: {\r\n          items: cur,\r\n          totalPrice: getTotalPrice(cur),\r\n        },\r\n      };\r\n      const items = Object.values(itemsObj).map((obj) => obj.items);\r\n      const allPizzas = [].concat.apply([], items);\r\n      const totalPrice = getTotalPrice(allPizzas);\r\n      return {\r\n        ...state,\r\n        items: itemsObj,\r\n        totalCount: allPizzas.length,\r\n        totalPrice,\r\n      };\r\n    }\r\n    case \"CLEAR_CART\":\r\n      return {\r\n        items: {},\r\n        totalPrice: 0,\r\n        totalCount: 0,\r\n      };\r\n    case \"ADD_CART_ITEM\": {\r\n      const newObjItems = [\r\n        ...state.items[action.payload].items,\r\n        state.items[action.payload].items[0],\r\n      ];\r\n      const newItems = {\r\n        ...state.items,\r\n        [action.payload]: {\r\n          items: newObjItems,\r\n          totalPrice: getTotalPrice(newObjItems),\r\n        },\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalCount: Object.values(newItems).reduce(\r\n          (acc, curr) => acc + curr.items.length,\r\n          0\r\n        ),\r\n        totalPrice: +Number(\r\n          Object.keys(newItems).reduce(\r\n            (acc, curr) => acc + newItems[curr].totalPrice,\r\n            0\r\n          )\r\n        ).toFixed(2),\r\n      };\r\n    }\r\n    case \"WITHDRAW_CART_ITEM\": {\r\n      const oldItems = state.items[action.payload].items;\r\n      const newObjItems =\r\n        oldItems.length > 1\r\n          ? state.items[action.payload].items.slice(1)\r\n          : oldItems;\r\n      const newItems = {\r\n        ...state.items,\r\n        [action.payload]: {\r\n          items: newObjItems,\r\n          totalPrice: getTotalPrice(newObjItems),\r\n        },\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalCount: Object.values(newItems).reduce(\r\n          (acc, curr) => acc + curr.items.length,\r\n          0\r\n        ),\r\n        totalPrice: +Number(\r\n          Object.keys(newItems).reduce(\r\n            (acc, curr) => acc + newItems[curr].totalPrice,\r\n            0\r\n          )\r\n        ).toFixed(2),\r\n      };\r\n    }\r\n    case \"REMOVE_CART_ITEM\":\r\n      const newItems = {\r\n        ...state.items,\r\n      };\r\n      const newTotalPrice = newItems[action.payload].totalPrice;\r\n      const newTotalCount = newItems[action.payload].items.length;\r\n      delete newItems[action.payload];\r\n      const items = Object.values(newItems).map((obj) => obj.items);\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalCount: state.totalCount - newTotalCount,\r\n        totalPrice: state.totalPrice - newTotalPrice,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cart;\r\n","D:\\react\\react-pizza\\src\\redux\\actions\\cart.js",[],["97","98"],"D:\\react\\react-pizza\\src\\components\\CartItem.jsx",[],{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":36,"column":6,"nodeType":"105","endLine":36,"endColumn":24,"suggestions":"106"},{"ruleId":"103","severity":1,"message":"107","line":39,"column":6,"nodeType":"105","endLine":39,"endColumn":8,"suggestions":"108"},{"ruleId":"103","severity":1,"message":"107","line":42,"column":6,"nodeType":"105","endLine":42,"endColumn":8,"suggestions":"109"},{"ruleId":"103","severity":1,"message":"107","line":46,"column":6,"nodeType":"105","endLine":46,"endColumn":8,"suggestions":"110"},{"ruleId":"111","severity":1,"message":"112","line":101,"column":13,"nodeType":"113","messageId":"114","endLine":101,"endColumn":18},{"ruleId":"99","replacedBy":"115"},{"ruleId":"101","replacedBy":"116"},"no-native-reassign",["117"],"no-negated-in-lhs",["118"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["119"],"React Hook React.useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["120"],["121"],["122"],"no-unused-vars","'items' is assigned a value but never used.","Identifier","unusedVar",["117"],["118"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"125","fix":"127"},{"desc":"125","fix":"128"},"Update the dependencies array to be: [category, dispatch, sortBy]",{"range":"129","text":"130"},"Update the dependencies array to be: [dispatch]",{"range":"131","text":"132"},{"range":"133","text":"132"},{"range":"134","text":"132"},[1133,1151],"[category, dispatch, sortBy]",[1254,1256],"[dispatch]",[1355,1357],[1490,1492]]